<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Ruda:wght@400;800&display=swap" rel="stylesheet" />

    <title>Add_Ride_Log</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="h1">Log your Ride</div>
      <form method="POST" id="add-ride-log">
        <!-- Add input elements for each parameter -->
        <div class="row g-3 align-items-center">
          <div class="col-5">
            <label for="dt">Date & Time</label>
          </div>
          <div class="col-7">
            <input type="datetime-local" id="dt" name="dt" value="" class="form-control" style="text-align: right" required />
          </div>
          <div class="col-5">
            <label for="di">Distance</label>
          </div>
          <div class="col-5">
            <input type="text" id="di" name="di" value="" class="form-control" style="text-align: right" required />
          </div>
          <div class="col-2">
            <label>Km</label>
          </div>
          <div class="col-5">
            <label for="du">Duration</label>
          </div>
          <div class="col-5">
            <input type="text" id="du" name="du" value="" class="form-control" style="text-align: right" required />
          </div>
          <div class="col-2">
            <label>mins</label>
          </div>
          <div class="col-5">
            <label for="ef">Efficiency</label>
          </div>
          <div class="col-5">
            <input type="text" id="ef" name="ef" value="" class="form-control" style="text-align: right"  />
          </div>
          <div class="col-2">
            <label>Wh/km</label>
          </div>
          <div class="col-5">
            <label for="ef">Mileage</label>
          </div>
          <div class="col-5">
            <input type="text" id="ml" name="ml" value="" class="form-control" style="text-align: right" />
          </div>
          <div class="col-2">
            <label>unit/km</label>
          </div>
          <div class="col-5">
            <label for="ts">Top Speed</label>
          </div>
          <div class="col-5">
            <input type="text" id="ts" name="ts" value="" class="form-control" style="text-align: right" required />
          </div>
          <div class="col-2">
            <label>Km/h</label>
          </div>
          <div class="col-5">
            <label for="as">Average Speed</label>
          </div>
          <div class="col-5">
            <input type="text" id="as" name="as" value="" class="form-control" style="text-align: right" required />
          </div>
          <div class="col-2">
            <label>Km/h</label>
          </div>
          <div class="col-5">
            <label for="pr">Projected Range</label>
          </div>
          <div class="col-5">
            <input type="text" id="pr" name="pr" value="" class="form-control" style="text-align: right" />
          </div>
          <div class="col-2">
            <label>Km</label>
          </div>
          <div class="col-5">
            <label for="sr">Source</label>
          </div>
          <div class="col-7">
            <input type="text" id="sr" name="sr" value="" class="form-control" placeholder="Ride started place" />
          </div>
          <div class="col-5">
            <label for="de">Destinaton</label>
          </div>
          <div class="col-7">
            <input type="text" id="de" name="de" value="" class="form-control" placeholder="Ride ended place" />
          </div>
          <div class="alert-danger visually-hidden" id="alert">Please fill the mandatory fields.</div>
        </div>
      </form>
    </div>
    <script>
      var title = document.title;

      var dtInput = document.getElementById('dt');
      var duInput = document.getElementById('du');
      var diInput = document.getElementById('di');
      var efInput = document.getElementById('ef');
      var efInput = document.getElementById('ml');
      var asInput = document.getElementById('as');
      var tsInput = document.getElementById('ts');
      var prInput = document.getElementById('pr');
      var srInput = document.getElementById('sr');
      var deInput = document.getElementById('de');

      Telegram.WebApp.ready();
      Telegram.WebApp.expand();
      Telegram.WebApp.MainButton.setText('ADD A RIDE');
      Telegram.WebApp.MainButton.show();

      // Get current date and time
      function getDateTime() {
        var now = new Date();
        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
        console.log(now.toISOString().slice(0, 16));
        return now.toISOString().slice(0, 16);
      }

      // Update the current date and time in the local datetime field
      window.onload = function () {
        dtInput.value = getDateTime();
      };
    </script>
    <script src="js/script.js"></script>
  </body>
</html>
